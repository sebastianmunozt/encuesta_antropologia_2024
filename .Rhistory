<<<<<<< HEAD
=======
library(kableExtra)
edad_t <- freq(base_antropologia$edad, prop=TRUE, order = "freq", report.nas = FALSE) %>%
tb()
freq(base_antropologia$edad , prop=TRUE, order = "freq", report.nas = FALSE) %>%
tb() %>%
kable(col.names = c("Edad", "Frecuencia", "%", "% Acumulado"),
caption = "Edades",
format = "html" , digits = 2) %>%  #le doy formate con kable
kable_classic(full_width = F, html_font = "Cambria") %>%
save_kable(file = "outputs/Edades.png", zoom = 3)
freq(base_antropologia$edad , prop=TRUE, order = "freq", report.nas = FALSE) %>%
tb() %>%
kable(col.names = c("Edad", "Frecuencia", "%", "% Acumulado"),
caption = "Edades",
format = "html" , digits = 2) %>%  #le doy formate con kable
kable_classic(full_width = F, html_font = "Cambria") %>%
save_kable(file = "C:\Users\Samanta\Documents\GitHub\encuesta_antropologia_2024\outputs/Edades.png", zoom = 3)
freq(base_antropologia$edad , prop=TRUE, order = "freq", report.nas = FALSE) %>%
tb() %>%
kable(col.names = c("Edad", "Frecuencia", "%", "% Acumulado"),
caption = "Edades",
format = "html" , digits = 2) %>%  #le doy formate con kable
kable_classic(full_width = F, html_font = "Cambria") %>%
save_kable(file = "C:/Users/Samanta\Documents/GitHub/encuesta_antropologia_2024/outputs/Edades.png", zoom = 3)
freq(base_antropologia$edad , prop=TRUE, order = "freq", report.nas = FALSE) %>%
tb() %>%
kable(col.names = c("Edad", "Frecuencia", "%", "% Acumulado"),
caption = "Edades",
format = "html" , digits = 2) %>%  #le doy formate con kable
kable_classic(full_width = F, html_font = "Cambria") %>%
save_kable(file = "C:/Users/Samanta/Documents/GitHub/encuesta_antropologia_2024/outputs/Edades.png", zoom = 3)
freq(base_antropologia$edad , prop=TRUE, order = "freq", report.nas = FALSE) %>%
tb() %>%
kable(col.names = c("Edad", "Frecuencia", "%", "% Acumulado"),
caption = "Edades",
format = "html" , digits = 2) %>%  #le doy formate con kable
kable_classic(full_width = F, html_font = "Cambria") %>%
save_kable(file = "outputs/Edades.png", zoom = 3)
freq(base_antropologia$edad , prop=TRUE, order = "freq", report.nas = FALSE) %>%
tb() %>%
kable(col.names = c("Edad", "Frecuencia", "%", "% Acumulado"),
caption = "Edades",
format = "html" , digits = 2) %>%  #le doy formate con kable
kable_classic(full_width = F, html_font = "Cambria")
freq(base_antropologia$edad , prop=TRUE, order = "freq", report.nas = FALSE) %>%
tb() %>%
kable(col.names = c("Edad", "Frecuencia", "%", "% Acumulado"),
caption = "Edades",
format = "html" , digits = 2) %>%  #le doy formate con kable
kable_classic(full_width = F, html_font = "Cambria") %>%
save_kable(file = "outputs/Edades.png", zoom = 3)
freq(base_antropologia$edad , prop=TRUE, order = "freq", report.nas = FALSE) %>%
tb() %>%
kable(col.names = c("Edad", "Frecuencia", "%", "% Acumulado"),
caption = "Edades",
format = "html" , digits = 2) %>%  #le doy formate con kable
kable_classic(full_width = F, html_font = "Cambria") %>%
save_kable(file = "outputs/edad.png", zoom = 3)
freq(base_antropologia$edad , prop=TRUE, order = "freq", report.nas = FALSE) %>%
tb() %>%
kable(col.names = c("Edad", "Frecuencia", "%", "% Acumulado"),
caption = "Edades",
format = "html" , digits = 2) %>%  #le doy formate con kable
kable_classic(full_width = F, html_font = "Cambria") %>%
save_kable(file = "outputs/edad.png", zoom = 3, self_contained = TRUE)
library(kableExtra)
install.packages("kableExtra")
install.packages("kableExtra")
library(kableExtra)
library(kableExtra)
freq(base_antropologia$edad , prop=TRUE, order = "freq", report.nas = FALSE) %>%
tb() %>%
kable(col.names = c("Edad", "Frecuencia", "%", "% Acumulado"),
caption = "Edades",
format = "html" , digits = 2) %>%  #le doy formate con kable
kable_classic(full_width = F, html_font = "Cambria") %>%
save_kable(file = "outputs/edad.png", zoom = 3, self_contained = TRUE)
freq(base_antropologia$edad , prop=TRUE, order = "freq", report.nas = FALSE) %>%
tb() %>%
kable(col.names = c("Edad", "Frecuencia", "%", "% Acumulado"),
caption = "Edades",
format = "html" , digits = 2) %>%  #le doy formate con kable
kable_classic(full_width = F, html_font = "Cambria") %>%
save_kable(file = "outputs/edad.png", zoom = 3, self_contained = TRUE)
freq(base_antropologia$edad , prop=TRUE, order = "freq", report.nas = FALSE) %>%
tb() %>%
kable(col.names = c("Edad", "Frecuencia", "%", "% Acumulado"),
caption = "Edades",
format = "html" , digits = 2) %>%  #le doy formate con kable
kable_classic(full_width = F, html_font = "Cambria") %>%
save_kable(file = "outputs/edad.png", zoom = 3, self_contained = TRUE)
freq(base_antropologia$edad , prop=TRUE, order = "freq", report.nas = FALSE) %>%
tb() %>%
kable(col.names = c("Edad", "Frecuencia", "%", "% Acumulado"),
caption = "Edades",
format = "html" , digits = 2) %>%  #le doy formate con kable
kable_classic(full_width = F, html_font = "Cambria") %>%
save_kable(file = "outputs/edad.png", zoom = 3, self_contained = TRUE)
freq(base_antropologia$edad , prop=TRUE, order = "freq", report.nas = FALSE) %>%
tb() %>%
kable(col.names = c("Edad", "Frecuencia", "%", "% Acumulado"),
caption = "Edades",
format = "html" , digits = 2) %>%  #le doy formate con kable
kable_classic(full_width = F, html_font = "Cambria") %>%
save_kable(file = "outputs/edad.png", zoom = 3)
freq(base_antropologia$edad , prop=TRUE, order = "freq", report.nas = FALSE) %>%
tb() %>%
k_table <- kable(col.names = c("Edad", "Frecuencia", "%", "% Acumulado"),
caption = "Edades",
format = "html" , digits = 2) %>%  #le doy formate con kable
kable_classic(full_width = F, html_font = "Cambria") %>%
save_kable(k_table, file = "outputs/edad.png", zoom = 3)
freq(base_antropologia$edad , prop=TRUE, order = "freq", report.nas = FALSE) %>%
tb() %>%
k_table <- kable(col.names = c("Edad", "Frecuencia", "%", "% Acumulado"),
caption = "Edades",
format = "html" , digits = 2) %>%  #le doy formate con kable
kable_classic(full_width = F, html_font = "Cambria") %>%
>>>>>>> ec57e55ae23098ad2013090e88002da2655fed11
save_kable(k_table, file = "outputs/edad.png", zoom = 3)
>>>>>>> 503f8294343341ce8eaa5dbd3d329766ad028d7f
pacman::p_load(tidyverse,# Universo de paquetes : tidyr, dplyr, ggplot2,readr,purrr,tibble, stringr, forcats
openxlsx,#leer archivos xlsx
readxl,# leer archivos xl      #dos formatos de excel xlsx y xl
janitor,#limpieza de datos
writexl,#Guardar tablas formato excel
DataExplorer) #Exploración rápida
pacman::p_load(tidyverse, openxlsx, readxl,readr,janitor, forcats, writexl, DataExplorer,
datos,  knitr, gt, summarytools, ggthemes, hrbrthemes, foreign, DescTools, ineq)
base_antropologia <- read.xlsx("base_antropologia_limpia.xlsx")
libro_codigos<- read.xlsx("Métodos Cuantitativos III (respuestas).xlsx") # dejo una base sin limpiar para observar nombres de preguntas
# 5.2.1. ea_01_horas_estudio_semana ####
# responsable:Noel
# frecuencia
ea_01_horas_estudio_semana_t <- freq(base_antropologia$ea_01_horas_estudio_semana, prop=TRUE, order = "freq", report.nas = FALSE) %>%
tb()
View(ea_01_horas_estudio_semana_t)
# 5.2.1. ea_01_horas_estudio_semana ####
# responsable:Noel
# frecuencia
ea_01_horas_estudio_semana_t <- freq(base_antropologia$ea_01_horas_estudio_semana, prop=TRUE, order = "freq", report.nas = FALSE) %>%
tb()
freq(base_antropologia$ea_01_horas_estudio_semana, prop=TRUE, order = "freq", report.nas = FALSE) %>%
tb() %>%
kable(col.names = c("Horas de estudio en la semana", "Frecuencia", "%", "% Acumulado"),
caption = "Horas de estudio en la semana",
format = "html", digits = 2) %>%  #le doy formate con kable
kable_classic(full_width = F, html_font = "Cambria") %>%
save_kable(file = "outputs/ea_01_horas_estudio_semana.png", zoom = 3)
install.packages("kableExtra")
library(kableExtra)
freq(base_antropologia$ea_01_horas_estudio_semana, prop=TRUE, order = "freq", report.nas = FALSE) %>%
tb() %>%
kable(col.names = c("Horas de estudio en la semana", "Frecuencia", "%", "% Acumulado"),
caption = "Horas de estudio en la semana",
format = "html", digits = 2) %>%  #le doy formate con kable
kable_classic(full_width = F, html_font = "Cambria") %>%
save_kable(file = "outputs/ea_01_horas_estudio_semana.png", zoom = 3)
# gráfico
ea_01_horas_estudio_semana_t <-  ea_01_horas_estudio_semana_t %>%
rename(Nombre = value, Porcentaje= pct, Frecuencia = freq)
View(ea_01_horas_estudio_semana_t)
# realizo gráfico
ea_01_horas_estudio_semana_g <- ggplot(ea_01_horas_estudio_semana_t, aes(x = Frecuencia, y = fct_reorder(Nombre, Frecuencia), fill= Nombre)) +
geom_col() +
labs(title = "Horas de estudio en la semana",
subtitle = "según datos de Encuestas Estudiantes Antropología 2024",
x = "%",  # Esto establece el título del eje x, pero no afecta las etiquetas dentro del gráfico
y = "Horas de estudio en la semana") +
geom_text(aes(label = round(Frecuencia, 1)),  # Ahora esto añade etiquetas a todas las barras
hjust = 1, size = 3, nudge_x = -0.9, fontface= "bold", color = "white") +
scale_fill_viridis_d(option = "C", guide = "none") +
theme_ipsum()
ggsave("outputs/identidad_genero_g.png", plot = identidad_genero_g, width = 10, height = 7, dpi = 300)
ggsave("outputs/horas_estudio_g.png", plot = ea_01_horas_estudio_semana_g, width = 10, height = 7, dpi = 300)
# Aseguramos que las columnas sean tratadas como caracteres
base_antropologia$ea_06_nivel_estres_ultimo_semestre_r <- as.character(base_antropologia$ea_06_nivel_estres_ultimo_semestre_r)
base_antropologia$identidad_genero_r <- as.character(base_antropologia$identidad_genero_r)
# Creamos un nuevo DataFrame con las respuestas e identidades
data_cruzada <- data.frame(Estres = base_antropologia$ea_06_nivel_estres_ultimo_semestre_r,
IdentidadGenero = base_antropologia$identidad_genero_r)
# Calcular frecuencias y porcentajes
tabla_porcentajes <- data_cruzada %>%
select(Estres, IdentidadGenero) %>%
droplevels() %>%
table() %>%
addmargins(., 2) %>%
prop.table(., 2) %>%
round(4) * 100
# Convertir la matriz a un data frame para manejar más fácilmente
df_porcentajes <- as.data.frame.matrix(tabla_porcentajes)
# Agregar una fila de totales al data frame
df_porcentajes <- bind_rows(df_porcentajes, Total = colSums(df_porcentajes))
# Mostrar el resultado
print(df_porcentajes)
grafico_estres_genero <- ggplot(df_porcentajes, aes(x = Frecuencia, y = fct_reorder(Identidad_Genero, Frecuencia), fill = Estres)) +
geom_col() +
labs(title = "Distribución del Nivel de Estrés por Identidad de Género",
subtitle = "según datos de Encuestas Estudiantes Antropología 2024",
x = "Frecuencia",
y = "Identidad de Género") +
geom_text(aes(label = round(Frecuencia, 1)),  # Añadir etiquetas a las barras
hjust = 1, size = 3, nudge_x = -0.9, fontface= "bold", color = "white") +
scale_fill_viridis_d(option = "C", guide = "none") +
theme_ipsum()
ggsave("outputs/estres_genero_g.png", plot = grafico_estres_genero, width = 10, height = 7, dpi = 300)
ggsave("outputs/estres_genero_g.png", plot = grafico_estres_genero, width = 10, height = 7, dpi = 300)
grafico_estres_genero <- ggplot(df_porcentajes, aes(x = Frecuencia, y = fct_reorder(Identidad_Genero, Frecuencia), fill = Estres)) +
geom_col() +
labs(title = "Distribución del Nivel de Estrés por Identidad de Género",
subtitle = "según datos de Encuestas Estudiantes Antropología 2024",
x = "Frecuencia",
y = "Identidad de Género") +
geom_text(aes(label = round(Frecuencia, 1)),  # Añadir etiquetas a las barras
hjust = 1, size = 3, nudge_x = -0.9, fontface= "bold", color = "white") +
scale_fill_viridis_d(option = "C", guide = "none") +
theme_ipsum()
ggsave("outputs/estres_genero_g.png", plot = grafico_estres_genero, width = 10, height = 7, dpi = 300)
View(grafico_estres_genero)
View(tabla_porcentajes)
ggsave("outputs/estres_genero_g.png", plot = grafico_estres_genero, width = 10, height = 7, dpi = 300)
grafico_estres_genero <- ggplot(df_porcentajes, aes(x = Frecuencia, y = fct_reorder(IdentidadGenero, Freq), fill = Estres)) +
geom_col() +
labs(title = "Distribución del Nivel de Estrés por Identidad de Género",
subtitle = "según datos de Encuestas Estudiantes Antropología 2024",
x = "Frecuencia",
y = "Identidad de Género") +
geom_text(aes(label = round(Frecuencia, 1)),  # Añadir etiquetas a las barras
hjust = 1, size = 3, nudge_x = -0.9, fontface= "bold", color = "white") +
scale_fill_viridis_d(option = "C", guide = "none") +
theme_ipsum()
ggsave("outputs/estres_genero_g.png", plot = grafico_estres_genero, width = 10, height = 7, dpi = 300)
grafico_estres_genero <- ggplot(df_porcentajes, aes(x = Freq, y = fct_reorder(IdentidadGenero, Freq), fill = Estres)) +
geom_col() +
labs(title = "Distribución del Nivel de Estrés por Identidad de Género",
subtitle = "según datos de Encuestas Estudiantes Antropología 2024",
x = "Frecuencia",
y = "Identidad de Género") +
geom_text(aes(label = round(Frecuencia, 1)),  # Añadir etiquetas a las barras
hjust = 1, size = 3, nudge_x = -0.9, fontface= "bold", color = "white") +
scale_fill_viridis_d(option = "C", guide = "none") +
theme_ipsum()
ggsave("outputs/estres_genero_g.png", plot = grafico_estres_genero, width = 10, height = 7, dpi = 300)
grafico_estres_genero <- ggplot(df_porcentajes, aes(x = Freq, y = fct_reorder(IdentidadGenero, Freq), fill = Estres)) +
geom_col() +
labs(title = "Distribución del Nivel de Estrés por Identidad de Género",
subtitle = "según datos de Encuestas Estudiantes Antropología 2024",
x = "Frecuencia",
y = "Identidad de Género") +
geom_text(aes(label = round(Frecuencia, 1)),  # Añadir etiquetas a las barras
hjust = 1, size = 3, nudge_x = -0.9, fontface= "bold", color = "white") +
scale_fill_viridis_d(option = "C", guide = "none") +
theme_ipsum()
ggsave("outputs/estres_genero_g.png", plot = grafico_estres_genero, width = 10, height = 7, dpi = 300)
View(df_porcentajes)
grafico_estres_genero <- ggplot(tabla_porcentajes, aes(x = Freq, y = fct_reorder(IdentidadGenero, Freq), fill = Estres)) +
geom_col() +
labs(title = "Distribución del Nivel de Estrés por Identidad de Género",
subtitle = "según datos de Encuestas Estudiantes Antropología 2024",
x = "Frecuencia",
y = "Identidad de Género") +
geom_text(aes(label = round(Frecuencia, 1)),  # Añadir etiquetas a las barras
hjust = 1, size = 3, nudge_x = -0.9, fontface= "bold", color = "white") +
scale_fill_viridis_d(option = "C", guide = "none") +
theme_ipsum()
grafico_estres_genero <- ggplot(tabla_porcentajes, aes(x = Freq, y = fct_reorder(IdentidadGenero, Freq), fill = Estres)) +
geom_col() +
labs(title = "Distribución del Nivel de Estrés por Identidad de Género",
subtitle = "según datos de Encuestas Estudiantes Antropología 2024",
x = "Frecuencia",
y = "Identidad de Género") +
geom_text(aes(label = round(Frecuencia, 1)),  # Añadir etiquetas a las barras
hjust = 1, size = 3, nudge_x = -0.9, fontface= "bold", color = "white") +
scale_fill_viridis_d(option = "C", guide = "none") +
theme_ipsum()
grafico_estres_genero <- ggplot(df_porcentajes, aes(x = Freq, y = fct_reorder(IdentidadGenero, Freq), fill = Estres)) +
geom_col() +
labs(title = "Distribución del Nivel de Estrés por Identidad de Género",
subtitle = "según datos de Encuestas Estudiantes Antropología 2024",
x = "Frecuencia",
y = "Identidad de Género") +
geom_text(aes(label = round(Frecuencia, 1)),  # Añadir etiquetas a las barras
hjust = 1, size = 3, nudge_x = -0.9, fontface= "bold", color = "white") +
scale_fill_viridis_d(option = "C", guide = "none") +
theme_ipsum()
ggsave("outputs/estres_genero_g.png", plot = grafico_estres_genero, width = 10, height = 7, dpi = 300)
freq(base_antropologia$ea_01_horas_estudio_semana, prop=TRUE, order = "freq", report.nas = FALSE) %>%
tb() %>%
kable(col.names = c("Horas de estudio en la semana", "Frecuencia", "%", "% Acumulado"),
caption = "Horas de estudio en la semana",
format = "html", digits = 2) %>%  #le doy formate con kable
kable_classic(full_width = F, html_font = "Cambria") %>%
save_kable(file = "outputs/ea_01_horas_estudio_semana.png", zoom = 3)
# 5.2.2. ea_02_horas_estudio_fin_semana ####
# responsable:Noel
ea_02_horas_estudio_fin_semana_t <- freq(base_antropologia$ea_02_horas_estudio_fin_semana, prop=TRUE, order = "freq", report.nas = FALSE) %>%
tb()
# 5.2.2. ea_02_horas_estudio_fin_semana ####
# responsable:Noel
ea_02_horas_estudio_fin_semana_t <- freq(base_antropologia$ea_02_horas_estudio_fin_semana, prop=TRUE, order = "freq", report.nas = FALSE) %>%
tb()
freq(base_antropologia$ea_02_horas_estudio_fin_semana, prop=TRUE, order = "freq", report.nas = FALSE) %>%
tb() %>%
kable(col.names = c("Horas de estudio en el fin de semana", "Frecuencia", "%", "% Acumulado"),
caption = "Horas de estudio en el fin de semana",
format = "html", digits = 2) %>%  #le doy formate con kable
kable_classic(full_width = F, html_font = "Cambria") %>%
save_kable(file = "outputs/ea_02_horas_estudio_fin_semana.png", zoom = 3)
View(ea_02_horas_estudio_fin_semana_t)
# gráfico
ea_02_horas_estudio_fin_semana_t <-  ea_02_horas_estudio_fin_semana_t %>%
rename(Nombre = value, Porcentaje= pct, Frecuencia = freq)
ggsave("outputs/horas_estudio_g.png", plot = ea_01_horas_estudio_semana_g, width = 10, height = 7, dpi = 300)
freq(base_antropologia$ea_02_horas_estudio_fin_semana, prop=TRUE, order = "freq", report.nas = FALSE) %>%
tb() %>%
kable(col.names = c("Horas de estudio en el fin de semana", "Frecuencia", "%", "% Acumulado"),
caption = "Horas de estudio en el fin de semana",
format = "html", digits = 2) %>%  #le doy formate con kable
kable_classic(full_width = F, html_font = "Cambria") %>%
save_kable(file = "outputs/ea_02_horas_estudio_fin_semana_g.png", zoom = 3)
ggsave("outputs/ea_02_horas_estudio_fin_semana_g.png", plot = ea_01_horas_estudio_semana_g, width = 10, height = 7, dpi = 300)
freq(base_antropologia$ea_02_horas_estudio_fin_semana, prop=TRUE, order = "freq", report.nas = FALSE) %>%
tb() %>%
kable(col.names = c("Horas de estudio en el fin de semana", "Frecuencia", "%", "% Acumulado"),
caption = "Horas de estudio en el fin de semana",
format = "html", digits = 2) %>%  #le doy formate con kable
kable_classic(full_width = F, html_font = "Cambria") %>%
save_kable(file = "outputs/ea_02_horas_estudio_fin_semana_.png", zoom = 3)
ggsave("outputs/ea_01_horas_estudio_semana_g.png", plot = ea_01_horas_estudio_semana_g, width = 10, height = 7, dpi = 300)
freq(base_antropologia$ea_02_horas_estudio_fin_semana, prop=TRUE, order = "freq", report.nas = FALSE) %>%
tb() %>%
kable(col.names = c("Horas de estudio en el fin de semana", "Frecuencia", "%", "% Acumulado"),
caption = "Horas de estudio en el fin de semana",
format = "html", digits = 2) %>%  #le doy formate con kable
kable_classic(full_width = F, html_font = "Cambria") %>%
save_kable(file = "outputs/ea_02_horas_estudio_fin_semana.png", zoom = 3)
# realizo gráfico
ea_02_horas_estudio_fin_semana_g <- ggplot(ea_02_horas_estudio_fin_semana_t, aes(x = Frecuencia, y = fct_reorder(Nombre, Frecuencia), fill= Nombre)) +
geom_col() +
labs(title = "Horas de estudio en el fin de semana",
subtitle = "según datos de Encuestas Estudiantes Antropología 2024",
x = "%",  # Esto establece el título del eje x, pero no afecta las etiquetas dentro del gráfico
y = "Horas de estudio en el fin de semana") +
geom_text(aes(label = round(Frecuencia, 1)),  # Ahora esto añade etiquetas a todas las barras
hjust = 1, size = 3, nudge_x = -0.9, fontface= "bold", color = "white") +
scale_fill_viridis_d(option = "C", guide = "none") +
theme_ipsum()
ggsave("outputs/ea_02_horas_estudio_fin_semana_g.png", plot = ea_01_horas_estudio_semana_g, width = 10, height = 7, dpi = 300)
ggsave("outputs/ea_02_horas_estudio_fin_semana_g.png", plot = ea_01_horas_estudio_semana_g, width = 10, height = 7, dpi = 300)
ggsave("outputs/ea_01_horas_estudio_semana_g.png", plot = ea_01_horas_estudio_semana_g, width = 10, height = 7, dpi = 300)
# 5.2.1. ea_01_horas_estudio_semana ####
# responsable:Noel
# frecuencia
ea_01_horas_estudio_semana_t <- freq(base_antropologia$ea_01_horas_estudio_semana, prop=TRUE, order = "freq", report.nas = FALSE) %>%
tb()
install.packages("kableExtra")
install.packages("kableExtra")
freq(base_antropologia$ea_01_horas_estudio_semana, prop=TRUE, order = "freq", report.nas = FALSE) %>%
tb() %>%
kable(col.names = c("Horas de estudio en la semana", "Frecuencia", "%", "% Acumulado"),
caption = "Horas de estudio en la semana",
format = "html", digits = 2) %>%  #le doy formate con kable
kable_classic(full_width = F, html_font = "Cambria") %>%
save_kable(file = "outputs/ea_01_horas_estudio_semana.png", zoom = 3)
# 5.2.1. ea_01_horas_estudio_semana ####
# responsable:Noel
# frecuencia
ea_01_horas_estudio_semana_t <- freq(base_antropologia$ea_01_horas_estudio_semana, prop=TRUE, order = "freq", report.nas = FALSE) %>%
tb()
freq(base_antropologia$ea_01_horas_estudio_semana, prop=TRUE, order = "freq", report.nas = FALSE) %>%
tb() %>%
kable(col.names = c("Horas de estudio en la semana", "Frecuencia", "%", "% Acumulado"),
caption = "Horas de estudio en la semana",
format = "html", digits = 2) %>%  #le doy formate con kable
kable_classic(full_width = F, html_font = "Cambria") %>%
save_kable(file = "outputs/ea_01_horas_estudio_semana.png", zoom = 3)
# gráfico
ea_01_horas_estudio_semana_t <-  ea_01_horas_estudio_semana_t %>%
rename(Nombre = value, Porcentaje= pct, Frecuencia = freq)
# realizo gráfico
ea_01_horas_estudio_semana_g <- ggplot(ea_01_horas_estudio_semana_t, aes(x = Frecuencia, y = fct_reorder(Nombre, Frecuencia), fill= Nombre)) +
geom_col() +
labs(title = "Horas de estudio en la semana",
subtitle = "según datos de Encuestas Estudiantes Antropología 2024",
x = "%",  # Esto establece el título del eje x, pero no afecta las etiquetas dentro del gráfico
y = "Horas de estudio en la semana") +
geom_text(aes(label = round(Frecuencia, 1)),  # Ahora esto añade etiquetas a todas las barras
hjust = 1, size = 3, nudge_x = -0.9, fontface= "bold", color = "white") +
scale_fill_viridis_d(option = "C", guide = "none") +
theme_ipsum()
ggsave("outputs/ea_01_horas_estudio_semana_g.png", plot = ea_01_horas_estudio_semana_g, width = 10, height = 7, dpi = 300)
ggsave("outputs/ea_01_horas_estudio_semana_g.png", plot = ea_01_horas_estudio_semana_g, width = 10, height = 7, dpi = 300)
freq(base_antropologia$ea_01_horas_estudio_semana, prop=TRUE, order = "freq", report.nas = FALSE) %>%
tb() %>%
kable(col.names = c("Horas de estudio en la semana", "Frecuencia", "%", "% Acumulado"),
caption = "Horas de estudio en la semana",
format = "html", digits = 2) %>%  #le doy formate con kable
kable_classic(full_width = F, html_font = "Cambria") %>%
save_kable(file = "outputs/ea_01_horas_estudio_semana.png", zoom = 3)
pacman::p_load(tidyverse,# Universo de paquetes : tidyr, dplyr, ggplot2,readr,purrr,tibble, stringr, forcats
openxlsx,#leer archivos xlsx
readxl,# leer archivos xl      #dos formatos de excel xlsx y xl
janitor,#limpieza de datos
writexl,#Guardar tablas formato excel
DataExplorer) #Exploración rápida
pacman::p_load(tidyverse, openxlsx, readxl,readr,janitor, forcats, writexl, DataExplorer,
datos,  knitr, gt, summarytools, ggthemes, hrbrthemes, foreign, DescTools, ineq)
# 5.2.1. ea_01_horas_estudio_semana ####
# responsable:Noel
# frecuencia
ea_01_horas_estudio_semana_t <- freq(base_antropologia$ea_01_horas_estudio_semana, prop=TRUE, order = "freq", report.nas = FALSE) %>%
tb()
freq(base_antropologia$ea_01_horas_estudio_semana, prop=TRUE, order = "freq", report.nas = FALSE) %>%
tb() %>%
kable(col.names = c("Horas de estudio en la semana", "Frecuencia", "%", "% Acumulado"),
caption = "Horas de estudio en la semana",
format = "html", digits = 2) %>%  #le doy formate con kable
kable_classic(full_width = F, html_font = "Cambria") %>%
save_kable(file = "outputs/ea_01_horas_estudio_semana.png", zoom = 3)
library(kableExtra)
freq(base_antropologia$ea_01_horas_estudio_semana, prop=TRUE, order = "freq", report.nas = FALSE) %>%
tb() %>%
kable(col.names = c("Horas de estudio en la semana", "Frecuencia", "%", "% Acumulado"),
caption = "Horas de estudio en la semana",
format = "html", digits = 2) %>%  #le doy formate con kable
kable_classic(full_width = F, html_font = "Cambria") %>%
save_kable(file = "outputs/ea_01_horas_estudio_semana.png", zoom = 3)
# gráfico
ea_01_horas_estudio_semana_t <-  ea_01_horas_estudio_semana_t %>%
rename(Nombre = value, Porcentaje= pct, Frecuencia = freq)
# realizo gráfico
ea_01_horas_estudio_semana_g <- ggplot(ea_01_horas_estudio_semana_t, aes(x = Frecuencia, y = fct_reorder(Nombre, Frecuencia), fill= Nombre)) +
geom_col() +
labs(title = "Horas de estudio en la semana",
subtitle = "según datos de Encuestas Estudiantes Antropología 2024",
x = "%",  # Esto establece el título del eje x, pero no afecta las etiquetas dentro del gráfico
y = "Horas de estudio en la semana") +
geom_text(aes(label = round(Frecuencia, 1)),  # Ahora esto añade etiquetas a todas las barras
hjust = 1, size = 3, nudge_x = -0.9, fontface= "bold", color = "white") +
scale_fill_viridis_d(option = "C", guide = "none") +
theme_ipsum()
ggsave("outputs/ea_01_horas_estudio_semana_g.png", plot = ea_01_horas_estudio_semana_g, width = 10, height = 7, dpi = 300)
# 5.2.2. ea_02_horas_estudio_fin_semana ####
# responsable:Noel
ea_02_horas_estudio_fin_semana_t <- freq(base_antropologia$ea_02_horas_estudio_fin_semana, prop=TRUE, order = "freq", report.nas = FALSE) %>%
tb()
freq(base_antropologia$ea_02_horas_estudio_fin_semana, prop=TRUE, order = "freq", report.nas = FALSE) %>%
tb() %>%
kable(col.names = c("Horas de estudio en el fin de semana", "Frecuencia", "%", "% Acumulado"),
caption = "Horas de estudio en el fin de semana",
format = "html", digits = 2) %>%  #le doy formate con kable
kable_classic(full_width = F, html_font = "Cambria") %>%
save_kable(file = "outputs/ea_02_horas_estudio_fin_semana.png", zoom = 3)
# gráfico
ea_02_horas_estudio_fin_semana_t <-  ea_02_horas_estudio_fin_semana_t %>%
rename(Nombre = value, Porcentaje= pct, Frecuencia = freq)
# realizo gráfico
ea_02_horas_estudio_fin_semana_g <- ggplot(ea_02_horas_estudio_fin_semana_t, aes(x = Frecuencia, y = fct_reorder(Nombre, Frecuencia), fill= Nombre)) +
geom_col() +
labs(title = "Horas de estudio en el fin de semana",
subtitle = "según datos de Encuestas Estudiantes Antropología 2024",
x = "%",  # Esto establece el título del eje x, pero no afecta las etiquetas dentro del gráfico
y = "Horas de estudio en el fin de semana") +
geom_text(aes(label = round(Frecuencia, 1)),  # Ahora esto añade etiquetas a todas las barras
hjust = 1, size = 3, nudge_x = -0.9, fontface= "bold", color = "white") +
scale_fill_viridis_d(option = "C", guide = "none") +
theme_ipsum()
ggsave("outputs/ea_02_horas_estudio_fin_semana_g.png", plot = ea_01_horas_estudio_semana_g, width = 10, height = 7, dpi = 300)
# realizo gráfico
ea_02_horas_estudio_fin_semana_g <- ggplot(ea_02_horas_estudio_fin_semana_t, aes(x = Frecuencia, y = fct_reorder(Nombre, Frecuencia), fill= Nombre)) +
geom_col() +
labs(title = "Horas de estudio en el fin de semana",
subtitle = "según datos de Encuestas Estudiantes Antropología 2024",
x = "%",  # Esto establece el título del eje x, pero no afecta las etiquetas dentro del gráfico
y = "Horas de estudio en el fin de semana") +
geom_text(aes(label = round(Frecuencia, 1)),  # Ahora esto añade etiquetas a todas las barras
hjust = 1, size = 3, nudge_x = -0.9, fontface= "bold", color = "white") +
scale_fill_viridis_d(option = "C", guide = "none") +
theme_ipsum()
# realizo gráfico
ea_02_horas_estudio_fin_semana_g <- ggplot(ea_02_horas_estudio_fin_semana_t, aes(x = Frecuencia, y = fct_reorder(Nombre, Frecuencia), fill= Nombre)) +
geom_col() +
labs(title = "Horas de estudio en el fin de semana",
subtitle = "según datos de Encuestas Estudiantes Antropología 2024",
x = "%",  # Esto establece el título del eje x, pero no afecta las etiquetas dentro del gráfico
y = "Horas de estudio en el fin de semana") +
geom_text(aes(label = round(Frecuencia, 1)),  # Ahora esto añade etiquetas a todas las barras
hjust = 1, size = 3, nudge_x = -0.9, fontface= "bold", color = "white") +
scale_fill_viridis_d(option = "C", guide = "none") +
theme_ipsum()
ggsave("outputs/ea_02_horas_estudio_fin_semana_g.png", plot = ea_02_horas_estudio_fin_semana_g, width = 10, height = 7, dpi = 300)
freq(base_antropologia$ea_02_horas_estudio_fin_semana, prop=TRUE, order = "freq", report.nas = FALSE) %>%
tb() %>%
kable(col.names = c("Horas de estudio en el fin de semana", "Frecuencia", "%", "% Acumulado"),
caption = "Horas de estudio en el fin de semana",
format = "html", digits = 2) %>%  #le doy formate con kable
kable_classic(full_width = F, html_font = "Cambria") %>%
save_kable(file = "outputs/ea_02_horas_estudio_fin_semana.png", zoom = 3)
<<<<<<< HEAD
View(base_antropologia)
# 1. Instalo y abro paquetes -------------------------------------------------
# install.packages("pacman")
=======
# 1. Instalo y abro paquetes -------------------------------------------------
install.packages("pacman")
install.packages("pacman")
>>>>>>> ec57e55ae23098ad2013090e88002da2655fed11
pacman::p_load(tidyverse,# Universo de paquetes : tidyr, dplyr, ggplot2,readr,purrr,tibble, stringr, forcats
openxlsx,#leer archivos xlsx
readxl,# leer archivos xl      #dos formatos de excel xlsx y xl
janitor,#limpieza de datos
writexl,#Guardar tablas formato excel
DataExplorer) #Exploración rápida
pacman::p_load(tidyverse, openxlsx, readxl,readr,janitor, forcats, writexl, DataExplorer,
datos,  knitr, gt, summarytools, ggthemes, hrbrthemes, foreign, DescTools, ineq)
<<<<<<< HEAD
install.packages("webshot")
webshot::install_phantomjs() # Sino funcionan tablas, instalar para exportar tablas de knitr
install.packages("kableExtra")
library(kableExtra)
#Cargar base de datos
base_antropologia <- read.xlsx("base_antropologia_limpia.xlsx")
libro_codigos<- read.xlsx("Métodos Cuantitativos III (respuestas).xlsx") # dejo una base sin limpiar para observar nombres de preguntas
# Verificar e instalar PhantomJS si es necesario
if (!webshot::is_phantomjs_installed()) {
webshot::install_phantomjs()}
# Verificar si el directorio 'outputs' existe y crearlo si no existe
if (!dir.exists("outputs")) {
dir.create("outputs")}
# Calcular la frecuencia
n_encuestador_t <- freq(base_antropologia$n_encuestador, prop=TRUE, order = "freq", report.nas = FALSE) %>%
tb()
freq(base_antropologia$n_encuestador, prop=TRUE, order = "freq", report.nas = FALSE) %>%
tb() %>%
kable(col.names = c("Encuestador/a", "Frecuencia", "%", "% Acumulado"),
caption = "Encuestas por Encuestador/a",
format = "html", digits = 2) %>%  #le doy formate con kable
kable_classic(full_width = F, html_font = "Cambria") %>%
save_kable(file = "outputs/n_encuestador.png", zoom = 3) #se va a guardar en el file llamado "tablas"
# Crear la tabla y guardarla como imagen
kable(n_encuestador_t, col.names = c("Encuestador/a", "Frecuencia", "%", "% Acumulado"),
caption = "Encuestas por Encuestador/a",
format = "html", digits = 2) %>%
kable_classic(full_width = F, html_font = "Cambria") %>%
save_kable(file = "outputs/n_encuestador.html")
# Crear la tabla y guardarla como imagen
kable(n_encuestador_t, col.names = c("Encuestador/a", "Frecuencia", "%", "% Acumulado"),
caption = "Encuestas por Encuestador/a",
format = "html", digits = 2) %>%
kable_classic(full_width = F, html_font = "Cambria") %>%
save_kable(file = "outputs/n_encuestador.html")
# frecuencia
identidad_genero_t <- freq(base_antropologia$identidad_genero, prop=TRUE, order = "freq", report.nas = FALSE) %>%
tb()
freq(base_antropologia$identidad_genero, prop=TRUE, order = "freq", report.nas = FALSE) %>%
tb() %>%
kable(col.names = c("Encuestador/a", "Frecuencia", "%", "% Acumulado"),
caption = "Identidad de género",
format = "html", digits = 2) %>%  #le doy formate con kable
kable_classic(full_width = F, html_font = "Cambria") %>%
save_kable(file = "outputs/identidad_genero.png", zoom = 3)
# Crear la tabla y guardarla como imagen
### OJO con este paso, es importante, entonces ahora se los dejo acá abajo para que reemplacen los datos de esta tabla
# y así ocupen el modelo del código. Apliquenlo al finaln de todas las tablas que han hecho, porque osino se guardan solo como html
# y esto nos permite guardarlas en formato png, que es en formato imágen :) éxitoo y cualquier cosa me cuentan
kable(n_encuestador_t, col.names = c("Encuestador/a", "Frecuencia", "%", "% Acumulado"),
caption = "Encuestas por Encuestador/a",
format = "html", digits = 2) %>%
kable_classic(full_width = F, html_font = "Cambria") %>%
save_kable(file = "outputs/n_encuestador.html")
# frecuencia
identidad_genero_t <- freq(base_antropologia$identidad_genero, prop=TRUE, order = "freq", report.nas = FALSE) %>%
tb()
freq(base_antropologia$identidad_genero, prop=TRUE, order = "freq", report.nas = FALSE) %>%
tb() %>%
kable(col.names = c("Encuestador/a", "Frecuencia", "%", "% Acumulado"),
caption = "Identidad de género",
format = "html", digits = 2) %>%  #le doy formate con kable
kable_classic(full_width = F, html_font = "Cambria") %>%
save_kable(file = "outputs/identidad_genero.png", zoom = 3)
# Crear la tabla y guardarla como imagen
### OJO con este paso, es importante, entonces ahora se los dejo acá abajo para que reemplacen los datos de esta tabla
# y así ocupen el modelo del código. Apliquenlo al finaln de todas las tablas que han hecho, porque osino se guardan solo como html
# y esto nos permite guardarlas en formato png, que es en formato imágen :) éxitoo y cualquier cosa me cuentan
kable(n_encuestador_t, col.names = c("Encuestador/a", "Frecuencia", "%", "% Acumulado"),
caption = "Encuestas por Encuestador/a",
format = "html", digits = 2) %>%
kable_classic(full_width = F, html_font = "Cambria") %>%
save_kable(file = "outputs/n_encuestador.html")
freq(base_antropologia$n_encuestador, prop=TRUE, order = "freq", report.nas = FALSE) %>%
tb() %>%
kable(col.names = c("Encuestador/a", "Frecuencia", "%", "% Acumulado"),
caption = "Encuestas por Encuestador/a",
format = "html", digits = 2) %>%  #le doy formate con kable
kable_classic(full_width = F, html_font = "Cambria") %>%
save_kable(file = "outputs/n_encuestador.png", zoom = 3) #se va a guardar en el file llamado "tablas"
# Crear la tabla y guardarla como imagen
kable(n_encuestador_t, col.names = c("Encuestador/a", "Frecuencia", "%", "% Acumulado"),
caption = "Encuestas por Encuestador/a",
format = "html", digits = 2) %>%
kable_classic(full_width = F, html_font = "Cambria") %>%
save_kable(file = "outputs/n_encuestador.html")
# b) realización de gráfico
# renombro nombre de mi tabla
n_encuestador_t <-  n_encuestador_t %>%
rename(Nombre = value, Porcentaje= pct, Frecuencia = freq)
# realizo gráfico
ggplot(n_encuestador_t, aes(x = Frecuencia, y = fct_reorder(Nombre, Frecuencia), fill= Nombre)) +
geom_col() +
labs(title = "Encuestas por Encuestador/a",
subtitle = "según datos de Encuestas Estudiantes Antropología 2024",
x = "%",  # Esto establece el título del eje x, pero no afecta las etiquetas dentro del gráfico
y = "Nombre del Encuestador/a") +
geom_text(aes(label = round(Frecuencia, 1)),  # Ahora esto añade etiquetas a todas las barras
hjust = 1, size = 3, nudge_x = -0.9, fontface= "bold", color = "white") +
scale_fill_viridis_d(option = "C", guide = "none") +
theme_ipsum()
# guardo gráfico
n_encuestador_g <- ggplot(n_encuestador_t, aes(x = Frecuencia, y = fct_reorder(Nombre, Frecuencia), fill= Nombre)) +
geom_col() +
labs(title = "Encuestas por Encuestador/a",
subtitle = "según datos de Encuestas Estudiantes Antropología 2024",
x = "%",  # Esto establece el título del eje x, pero no afecta las etiquetas dentro del gráfico
y = "Nombre del Encuestador/a") +
geom_text(aes(label = round(Frecuencia, 1)),  # Ahora esto añade etiquetas a todas las barras
hjust = 1, size = 3, nudge_x = -0.9, fontface= "bold", color = "white") +
scale_fill_viridis_d(option = "C", guide = "none") +
theme_ipsum()
# frecuencia
identidad_genero_t <- freq(base_antropologia$identidad_genero, prop=TRUE, order = "freq", report.nas = FALSE) %>%
tb()
freq(base_antropologia$identidad_genero, prop=TRUE, order = "freq", report.nas = FALSE) %>%
tb() %>%
kable(col.names = c("Encuestador/a", "Frecuencia", "%", "% Acumulado"),
caption = "Identidad de género",
format = "html", digits = 2) %>%  #le doy formate con kable
kable_classic(full_width = F, html_font = "Cambria") %>%
save_kable(file = "outputs/identidad_genero.png", zoom = 3)
=======
write.xlsx(x = base_antropologia,file = "base_antropologia_limpia.xlsx")
base_antropologia <- read.xlsx("base_antropologia_limpia.xlsx")
libro_codigos<- read.xlsx("Métodos Cuantitativos III (respuestas).xlsx") # dejo una base sin limpiar para observar nombres de preguntas
names(base_antropologia)
>>>>>>> ec57e55ae23098ad2013090e88002da2655fed11
